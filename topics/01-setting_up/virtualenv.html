

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Working with Virtualenv &mdash; Programming in Python 8.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=bb3927b2"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Python 2 versus Python 3" href="../../modules/Py2vsPy3.html" />
    <link rel="prev" title="Command line basics" href="command_line.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #4b2e83" >

          
          
          <a href="../../index.html">
            
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Topics in the Program</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">1. Setting up your Environment</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="environment_overview.html">Introduction to your Programming Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_and_core_tools.html">Installing Python and core tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup_details.html">Setup Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_setup.html">Advanced Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing_your_setup.html">Testing Your setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exercises/python_pushups.html">Python Pushups</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../02-basic_python/index.html">2. Basic Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-recursion_booleans/index.html">3. Booleans and Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-sequences_iteration/index.html">4. Sequences and Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-text_handling/index.html">5. Basic Text Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06-exceptions/index.html">6. Exception Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07-unit_testing/index.html">7. Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08-dicts_sets/index.html">8. Dictionaries and Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09-files/index.html">9. File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-modules_packages/index.html">10. Modules and Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11-argument_passing/index.html">11. Advanced Argument Passing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12-comprehensions/index.html">12. Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13-intro_oo/index.html">13. Intro to Object Oriented Programing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../14-magic_methods/index.html">14. Properties and Magic Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15-subclassing/index.html">15. Subclassing and Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../16-multiple_inheritance/index.html">16. Multiple Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../17-functional_programming/index.html">17. Introduction to Functional Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../18-advanced_testing/index.html">18. Advanced Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../99-extras/index.html">19. Extra Topics</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #4b2e83" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Programming in Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">1. </span>Setting up your Environment</a></li>
          <li class="breadcrumb-item"><a href="resources.html">Resources</a></li>
      <li class="breadcrumb-item active">Working with Virtualenv</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/topics/01-setting_up/virtualenv.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="command_line.html" class="btn btn-neutral float-left" title="Command line basics" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../modules/Py2vsPy3.html" class="btn btn-neutral float-right" title="Python 2 versus Python 3" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="working-with-virtualenv">
<span id="virtualenv-section"></span><h1>Working with Virtualenv<a class="headerlink" href="#working-with-virtualenv" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Virtual environments are a critical tool for software development. However, When you are first learning Python, you can safetly ignore them. For the first class, Programming In Python, we make very little use of third-party packages – it is OK to simply use your one system Python. come back to this page if you do find yourself getting tangled up in multiple “requirements”</p>
</div>
<p>“For every non-standard package installed in a system Python, the gods kill a kitten”</p>
<blockquote>
<div><ul class="simple">
<li><p>me</p></li>
</ul>
</div></blockquote>
<section id="reasons-why">
<h2>Reasons Why<a class="headerlink" href="#reasons-why" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>As a working developer you will need to install packages that aren’t in the
Python standard Library</p></li>
<li><p>As a working developer you often need to install <em>different</em> versions of the
<em>same</em> library for different projects</p></li>
<li><p>Conflicts arising from having the wrong version of a dependency installed can
cause long-term nightmares</p></li>
<li><p>Use <a class="reference external" href="http://www.virtualenv.org/">virtualenv</a> …</p></li>
<li><p><strong>Always</strong></p></li>
</ul>
<section id="conda">
<h3>conda ?<a class="headerlink" href="#conda" title="Link to this heading"></a></h3>
<p>The above principles imply that you need to use <em>some</em> way to manage multiple environments. virtualenv is one (and there is a newer one called pipenv) And these are common and work well for a lot of developers, particulaly web developers. But there is antoher option. The “conda” system, as used by the Anaconda distribution provides another envrionment management system that has the advantage of managing non-python tools, too, like Fortran or C libaries, compilers, even the R statistical programming environment. So it is widely used in the data science world.</p>
</section>
<section id="installing-virtualenv">
<h3>Installing Virtualenv<a class="headerlink" href="#installing-virtualenv" title="Link to this heading"></a></h3>
<p>The best way is to install directly in your system Python (one exception to the rule).</p>
<p>To do so you will have to have <a class="reference external" href="http://www.pip-installer.org">pip</a> installed.</p>
<p>Try the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>which<span class="w"> </span>pip
/usr/local/bin/pip
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">which</span></code> command returns no value for you, then <code class="docutils literal notranslate"><span class="pre">pip</span></code> is not
installed in your system. To fix this, follow <a class="reference external" href="http://www.pip-installer.org/en/latest/installing.html">the instructions here</a>.</p>
<p>Once you have <code class="docutils literal notranslate"><span class="pre">pip</span></code> installed in your system, you can use it to install
<a class="reference external" href="http://www.virtualenv.org/">virtualenv</a>. Because you are installing it into your system Python, you will
most likely need <code class="docutils literal notranslate"><span class="pre">superuser</span></code> privileges to do so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>virtualenv
Downloading/unpacking<span class="w"> </span>virtualenv
<span class="w">  </span>Downloading<span class="w"> </span>virtualenv-1.11.2-py2.py3-none-any.whl<span class="w"> </span><span class="o">(</span><span class="m">2</span>.8MB<span class="o">)</span>:<span class="w"> </span><span class="m">2</span>.8MB<span class="w"> </span>downloaded
Installing<span class="w"> </span>collected<span class="w"> </span>packages:<span class="w"> </span>virtualenv
Successfully<span class="w"> </span>installed<span class="w"> </span>virtualenv
Cleaning<span class="w"> </span>up...
</pre></div>
</div>
<p>Great.  Once that’s done, you should find that you have a <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>
command available to you from your shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ virtualenv --help
Usage: virtualenv [OPTIONS] DEST_DIR

Options:
  --version             show program&#39;s version number and exit
  -h, --help            ...
</pre></div>
</div>
</section>
</section>
<section id="using-virtualenv">
<h2>Using Virtualenv<a class="headerlink" href="#using-virtualenv" title="Link to this heading"></a></h2>
<p>Creating a new virtualenv is very very simple:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>virtualenv<span class="w"> </span><span class="o">[</span>options<span class="o">]</span><span class="w"> </span>&lt;ENV&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;ENV&gt;</span></code> is just the name of the environment you want to create. It’s
arbitrary. Let’s make one for demonstration purposes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>virtualenv<span class="w"> </span>demoenv
New<span class="w"> </span>python<span class="w"> </span>executable<span class="w"> </span><span class="k">in</span><span class="w"> </span>demoenv/bin/python
Installing<span class="w"> </span>setuptools,<span class="w"> </span>pip...done.
</pre></div>
</div>
<section id="what-happened">
<h3>What Happened?<a class="headerlink" href="#what-happened" title="Link to this heading"></a></h3>
<p>When you ran that command, a few things took place:</p>
<ul class="simple">
<li><p>A new directory with your requested name was created</p></li>
<li><p>A new Python executable was created in &lt;ENV&gt;/bin (&lt;ENV&gt;/Scripts on Windows)</p></li>
<li><p>The new Python was cloned from your system Python (where virtualenv was
installed)</p></li>
<li><p>The new Python was isolated from any libraries installed in the old Python</p></li>
<li><p>Setuptools was installed so you have <code class="docutils literal notranslate"><span class="pre">easy_install</span></code> for this new Python</p></li>
<li><p>Pip was installed so you have <code class="docutils literal notranslate"><span class="pre">pip</span></code> for this new python</p></li>
</ul>
</section>
<section id="activation">
<h3>Activation<a class="headerlink" href="#activation" title="Link to this heading"></a></h3>
<p>The virtual environment you just created, <code class="docutils literal notranslate"><span class="pre">demoenv</span></code> contains an executable
Python command, but if you do a quick check to see which Python executable is
found by your terminal, you’ll see that it is not the one:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>which<span class="w"> </span>python
/usr/bin/python
</pre></div>
</div>
<p>You can execute the new Python by explicitly pointing to it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./demoenv/bin/python<span class="w"> </span>-V
Python<span class="w"> </span><span class="m">2</span>.7.5
</pre></div>
</div>
<p>but that’s tedious and hard to remember. Instead, <code class="docutils literal notranslate"><span class="pre">activate</span></code> your virtualenv
using the <code class="docutils literal notranslate"><span class="pre">source</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>demoenv/bin/activate
<span class="o">(</span>demoenv<span class="o">)</span>$<span class="w"> </span>which<span class="w"> </span>python
/Users/cewing/demoenv/bin/python
</pre></div>
</div>
<p>On Windows, the <em>activate</em> script is in the <code class="docutils literal notranslate"><span class="pre">Scripts</span></code> folder:</p>
<p><code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">\path\to\env\Scripts\activate</span></code></p>
<p>There.  That’s better. Now whenever you run the <code class="docutils literal notranslate"><span class="pre">python</span></code> command, the
executable that will be used will be the new one in your <code class="docutils literal notranslate"><span class="pre">demoenv</span></code>.</p>
<p>Notice also that the your shell prompt has changed. It indicates which
<code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> is currently active. Little clues like that really help you to
keep things straight when you’ve got a lot of projects going on, so it’s nice
the makers of virtualenv thought of it.</p>
</section>
<section id="installing-packages">
<h3>Installing Packages<a class="headerlink" href="#installing-packages" title="Link to this heading"></a></h3>
<p>Now that your virtualenv is active, not only has your <code class="docutils literal notranslate"><span class="pre">python</span></code> executable been
hijacked, so have <code class="docutils literal notranslate"><span class="pre">pip</span></code> and <code class="docutils literal notranslate"><span class="pre">easy_install</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>demoenv<span class="o">)</span>$<span class="w"> </span>which<span class="w"> </span>pip
/Users/cewing/demoenv/bin/pip
<span class="o">(</span>demoenv<span class="o">)</span>$<span class="w"> </span>which<span class="w"> </span>easy_install
/Users/cewing/demoenv/bin/easy_install
</pre></div>
</div>
<p>This means that using these tools to install packages will install them <em>into
your virtual environment only</em> and not into the system Python.  Let’s see this
in action. We’ll install a package called <code class="docutils literal notranslate"><span class="pre">docutils</span></code> that provides support
for converting ReStructuredText documents into other formats like HTML, LaTeX
and more:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>demoenv<span class="o">)</span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>docutils
Downloading/unpacking<span class="w"> </span>docutils
<span class="w">  </span>Downloading<span class="w"> </span>docutils-0.11.tar.gz<span class="w"> </span><span class="o">(</span><span class="m">1</span>.6MB<span class="o">)</span>:<span class="w"> </span><span class="m">1</span>.6MB<span class="w"> </span>downloaded
<span class="w">  </span>Running<span class="w"> </span>setup.py<span class="w"> </span><span class="o">(</span>path:/Users/cewing/demoenv/build/docutils/setup.py<span class="o">)</span><span class="w"> </span>egg_info<span class="w"> </span><span class="k">for</span><span class="w"> </span>package<span class="w"> </span>docutils
<span class="w">    </span>...
<span class="w">    </span>changing<span class="w"> </span>mode<span class="w"> </span>of<span class="w"> </span>/Users/cewing/demoenv/bin/rst2xml.py<span class="w"> </span>to<span class="w"> </span><span class="m">755</span>
<span class="w">    </span>changing<span class="w"> </span>mode<span class="w"> </span>of<span class="w"> </span>/Users/cewing/demoenv/bin/rstpep2html.py<span class="w"> </span>to<span class="w"> </span><span class="m">755</span>
Successfully<span class="w"> </span>installed<span class="w"> </span>docutils
Cleaning<span class="w"> </span>up...
</pre></div>
</div>
<p>And now, when we fire up our Python interpreter, the docutils package is
available to us:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>demoenv<span class="o">)</span>$<span class="w"> </span>python
Python<span class="w"> </span><span class="m">2</span>.7.5<span class="w"> </span><span class="o">(</span>default,<span class="w"> </span>Aug<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">2013</span>,<span class="w"> </span><span class="m">00</span>:04:04<span class="o">)</span>
<span class="o">[</span>GCC<span class="w"> </span><span class="m">4</span>.2.1<span class="w"> </span>Compatible<span class="w"> </span>Apple<span class="w"> </span>LLVM<span class="w"> </span><span class="m">5</span>.0<span class="w"> </span><span class="o">(</span>clang-500.0.68<span class="o">)]</span><span class="w"> </span>on<span class="w"> </span>darwin
Type<span class="w"> </span><span class="s2">&quot;help&quot;</span>,<span class="w"> </span><span class="s2">&quot;copyright&quot;</span>,<span class="w"> </span><span class="s2">&quot;credits&quot;</span><span class="w"> </span>or<span class="w"> </span><span class="s2">&quot;license&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>information.
&gt;&gt;&gt;<span class="w"> </span>import<span class="w"> </span>docutils
&gt;&gt;&gt;<span class="w"> </span>docutils.__path__
<span class="o">[</span><span class="s1">&#39;/Users/cewing/demoenv/lib/python2.7/site-packages/docutils&#39;</span><span class="o">]</span>
&gt;&gt;&gt;<span class="w"> </span>^d
<span class="o">(</span>demoenv<span class="o">)</span>$
</pre></div>
</div>
<p>There’s one other interesting side-effect of installing software with
<code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>. The <code class="docutils literal notranslate"><span class="pre">docutils</span></code> package provides a number of executable
scripts when it is installed: <code class="docutils literal notranslate"><span class="pre">rst2html.py</span></code>, <code class="docutils literal notranslate"><span class="pre">rst2latex.py</span></code> and so on.
These scripts are set up to execute using the Python with which they were
built.  What this means is that running these scripts will use the Python
executable in your virtualenv, <em>even if that virtualenv is not active</em>!</p>
</section>
<section id="deactivation">
<h3>Deactivation<a class="headerlink" href="#deactivation" title="Link to this heading"></a></h3>
<p>So you’ve got a virtual environment created.  And you’ve activated it so that
you can install packages and use them. Eventually you’ll need to move on to
some other project. This likely means that you’ll need to stop working with
this <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> and switch to another (it’s a good idea to keep a separate
<code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> for every project you work on).</p>
<p>When a <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> is active, all you have to do is use the <code class="docutils literal notranslate"><span class="pre">deactivate</span></code>
command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>demoenv<span class="o">)</span>$<span class="w"> </span>deactivate
$<span class="w"> </span>which<span class="w"> </span>python
/usr/bin/python
</pre></div>
</div>
<p>Note that your shell prompt returns to normal, and now the executable Python
found when you check <code class="docutils literal notranslate"><span class="pre">python</span></code> is the system one again.</p>
</section>
<section id="cleaning-up">
<h3>Cleaning Up<a class="headerlink" href="#cleaning-up" title="Link to this heading"></a></h3>
<p>The final great advantage that <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> confers on you as a developer is
the ability to easily remove a batch of installed Python software from your
system. Consider a situation where you installed a library that breaks your
Python (it happens).  If you are working in your system Python, you now have to
figure out what that package installed, where, and go clean it out manually.
With <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> the process is as simple as removing the directory that
virtualenv created when you started out. Let’s do that with our <code class="docutils literal notranslate"><span class="pre">demoenv</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>demoenv
</pre></div>
</div>
<p>And that’s it.  The entire environment and all the packages you installed into
it are now gone. There’s no traces left to pollute your world.</p>
</section>
</section>
<section id="virtualenvwrapper">
<h2>VirtualenvWrapper<a class="headerlink" href="#virtualenvwrapper" title="Link to this heading"></a></h2>
<p>So you have this great tool that allows you to build isolated environments in
which you can install Python software. Several questions arise when considering
this.</p>
<ul class="simple">
<li><p>Where should such environments be placed?</p></li>
<li><p>How can the environments be tied to the projects you are working on?</p></li>
<li><p>Once you have more than a trivial number of projects, how can you keep track
of all these virtualenvs?</p></li>
</ul>
<p>Like any good tool, <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> does not impose on you any particular way of
working. You can place your environments into the directories where you are
building the project to which they apply. You can keep them all in a single
global location. You can build a random path generator that drops them
wherever.</p>
<p>But any of these methods lead inevetably to chaos. They require too much from
you. It would be better if you could manage your virtual environments easily
and intuitively.</p>
<p>With <a class="reference external" href="http://virtualenvwrapper.readthedocs.org">virtualenvwrapper</a> you can.</p>
<section id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h3>
<p>Let’s start by installing the package in our system Python, alongside
<code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> (again, you’ll need <code class="docutils literal notranslate"><span class="pre">superuser</span></code> to do this):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>virtualenvwrapper
Downloading/unpacking<span class="w"> </span>virtualenvwrapper
<span class="w">  </span>Downloading<span class="w"> </span>virtualenvwrapper-4.2.tar.gz<span class="w"> </span><span class="o">(</span>125kB<span class="o">)</span>:<span class="w"> </span>125kB<span class="w"> </span>downloaded
<span class="w">  </span>Running<span class="w"> </span>setup.py<span class="w"> </span><span class="o">(</span>path:/private/tmp/pip_build_root/virtualenvwrapper/setup.py<span class="o">)</span><span class="w"> </span>egg_info<span class="w"> </span><span class="k">for</span><span class="w"> </span>package<span class="w"> </span>virtualenvwrapper
<span class="w">  </span>...
Successfully<span class="w"> </span>installed<span class="w"> </span>virtualenvwrapper<span class="w"> </span>virtualenv-clone<span class="w"> </span>stevedore
Cleaning<span class="w"> </span>up...
$
</pre></div>
</div>
<p>Once that’s finished, you’ll need to wire the system up by letting your shell
know that the commands it provides are present. Add the following lines to your
shell startup file (<code class="docutils literal notranslate"><span class="pre">.profile</span></code>, <code class="docutils literal notranslate"><span class="pre">.bash-profile</span></code>, …):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">WORKON_HOME</span><span class="o">=</span>~/.virtualenvs
<span class="nb">source</span><span class="w"> </span>/usr/local/bin/virtualenvwrapper.sh
</pre></div>
</div>
<p>This will create a new environmental variable, <code class="docutils literal notranslate"><span class="pre">WORKON_HOME</span></code>, that determines
where new virtual environments will be created. The actual name is completely
arbitrary.</p>
<p>You’ll need to be sure that the location you set exists:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>~/.virtualenvs
</pre></div>
</div>
</section>
<section id="using-mkvirtualenv">
<h3>Using <code class="docutils literal notranslate"><span class="pre">mkvirtualenv</span></code><a class="headerlink" href="#using-mkvirtualenv" title="Link to this heading"></a></h3>
<p>When you’ve done that, start a new terminal and you’ll have access to the
<code class="docutils literal notranslate"><span class="pre">mkvirtualenv</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkvirtualenv<span class="w"> </span>testenv
New<span class="w"> </span>python<span class="w"> </span>executable<span class="w"> </span><span class="k">in</span><span class="w"> </span>testenv/bin/python
Installing<span class="w"> </span>setuptools,<span class="w"> </span>pip...done.
<span class="o">(</span>testenv<span class="o">)</span>$<span class="w"> </span>ls<span class="w"> </span>~/.virtualenvs
testenv
<span class="o">(</span>testenv<span class="o">)</span>$<span class="w"> </span>which<span class="w"> </span>python
/Users/cewing/.virtualenvs/testenv/bin/python
<span class="o">(</span>testenv<span class="o">)</span>$
</pre></div>
</div>
<p>Notice a couple of things:</p>
<ul class="simple">
<li><p>The new environment you asked for was created in <code class="docutils literal notranslate"><span class="pre">WORKON_HOME</span></code></p></li>
<li><p>The new environment was <em>immedately</em> activated for you</p></li>
</ul>
<p>That’s a nice feature, eh? No more needing to remember to <code class="docutils literal notranslate"><span class="pre">activate</span></code> the env
you just created to install packages.</p>
</section>
<section id="using-workon">
<h3>Using <code class="docutils literal notranslate"><span class="pre">workon</span></code><a class="headerlink" href="#using-workon" title="Link to this heading"></a></h3>
<p>In addition to this nice little feature, you can also use the <code class="docutils literal notranslate"><span class="pre">workon</span></code>
command to see which environments you have, and to switch from one to another:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>testenv<span class="o">)</span>$<span class="w"> </span>workon
testenv
<span class="o">(</span>testenv<span class="o">)</span>$<span class="w"> </span>mkvirtualenv<span class="w"> </span>number2
New<span class="w"> </span>python<span class="w"> </span>executable<span class="w"> </span><span class="k">in</span><span class="w"> </span>number2/bin/python
Installing<span class="w"> </span>setuptools,<span class="w"> </span>pip...done.
<span class="o">(</span>number2<span class="o">)</span>$<span class="w"> </span>workon
number2
testenv
<span class="o">(</span>number2<span class="o">)</span>$<span class="w"> </span>workon<span class="w"> </span>testenv
<span class="o">(</span>testenv<span class="o">)</span>$
</pre></div>
</div>
<p>Sweet!</p>
<p>The same <code class="docutils literal notranslate"><span class="pre">deactivate</span></code> command can get you back to your system environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>testenv<span class="o">)</span>$<span class="w"> </span>deactivate
$
</pre></div>
</div>
</section>
<section id="using-mkproject">
<h3>Using <code class="docutils literal notranslate"><span class="pre">mkproject</span></code><a class="headerlink" href="#using-mkproject" title="Link to this heading"></a></h3>
<p>That takes care of deciding where to put new environments. It also clears up
the question of how to remember which ones you have and how to start them up
and switch between them. But we still have to figure out how to remember which
environment goes with which project.</p>
<p>That’s what the <code class="docutils literal notranslate"><span class="pre">mkproject</span></code> command is for.</p>
<p>First, go back to your shell startup file and add a new environmental variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PROJECT_HOME</span><span class="o">=</span>~/projects<span class="w"> </span><span class="c1">#&lt;- this line here is new</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">WORKON_HOME</span><span class="o">=</span>~/.virtualenvs
<span class="nb">source</span><span class="w"> </span>/usr/local/bin/virtualenvwrapper.sh
</pre></div>
</div>
<p>Then, make sure the directory you named exists:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>~/projects
</pre></div>
</div>
<p>After all that, fire up a new shell to pick up the changes and try this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkproject<span class="w"> </span>foo
New<span class="w"> </span>python<span class="w"> </span>executable<span class="w"> </span><span class="k">in</span><span class="w"> </span>foo/bin/python
Installing<span class="w"> </span>setuptools,<span class="w"> </span>pip...done.
Creating<span class="w"> </span>/Users/cewing/projects/foo
Setting<span class="w"> </span>project<span class="w"> </span><span class="k">for</span><span class="w"> </span>foo<span class="w"> </span>to<span class="w"> </span>/Users/cewing/projects/foo
<span class="o">(</span>foo<span class="o">)</span>$<span class="w"> </span>which<span class="w"> </span>python
/Users/cewing/.virtualenvs/foo/bin/python
<span class="o">(</span>foo<span class="o">)</span>$<span class="w"> </span><span class="nb">pwd</span>
/Users/cewing/projects/foo
<span class="o">(</span>foo<span class="o">)</span>$<span class="w"> </span>ls<span class="w"> </span>-a<span class="w"> </span><span class="nv">$VIRTUAL_ENV</span>
.<span class="w">       </span>.Python<span class="w">     </span>bin<span class="w">     </span>lib
..<span class="w">      </span>.project<span class="w">    </span>include
<span class="o">(</span>foo<span class="o">)</span>$<span class="w"> </span>more<span class="w"> </span><span class="nv">$VIRTUAL_ENV</span>/.project
/Users/cewing/projects/foo
</pre></div>
</div>
<p>Whoa! That command did a lot:</p>
<ul class="simple">
<li><p>Created a new <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> in your <code class="docutils literal notranslate"><span class="pre">$WORKON_HOME</span></code></p></li>
<li><p>Created a new project directory in your <code class="docutils literal notranslate"><span class="pre">$PROJECT_HOME</span></code></p></li>
<li><p>Placed a <code class="docutils literal notranslate"><span class="pre">.project</span></code> file in your home directory with a path leading to the
associated project directory</p></li>
<li><p>Activated the new virtualenv for you</p></li>
<li><p>Automatically moved your present working directory to the new project
directory.</p></li>
</ul>
<p>And now, you can begin working on your <code class="docutils literal notranslate"><span class="pre">foo</span></code> project, secure that you will be
installing packages into the right environment.</p>
</section>
</section>
<section id="a-few-last-words">
<h2>A Few Last Words<a class="headerlink" href="#a-few-last-words" title="Link to this heading"></a></h2>
<p>This quick introduction is <strong>by no means</strong> an exhaustive manual for either of
the packages we’ve talked about. There is a great deal more that they can do.
In particular, <code class="docutils literal notranslate"><span class="pre">virtualenvwrapper</span></code> is highly customizable, with support for
custom scripts to be hooked into every stage of the <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> workflow.</p>
<p>I urge you to read the documentation for <a class="reference external" href="http://www.virtualenv.org/">virtualenv</a> and <a class="reference external" href="http://virtualenvwrapper.readthedocs.org">virtualenvwrapper</a>
yourself to find out more.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="command_line.html" class="btn btn-neutral float-left" title="Command line basics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../modules/Py2vsPy3.html" class="btn btn-neutral float-right" title="Python 2 versus Python 3" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Natasha Aleksandrova, Christopher Barker, Brian Dorsey, Cris Ewing, Christy Heaton, Jon Jacky, Maria McKinley, Andy Miles, Rick Riehle, Joseph Schilz, Joseph Sheedy, Hosung Song. Creative Commons Attribution-ShareAlike 4.0 license.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>